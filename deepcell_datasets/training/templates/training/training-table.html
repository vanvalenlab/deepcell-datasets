{% extends "base.html" %}

{% from "macros/_pagination.html" import render_pagination %}

{% block content %}

<h3 class="title center-align">Training Data </h3>

<form action="{{ url_for('training_bp.view_all_training_data') }}" name="training_filter_form">

  <div class="row">

    <div class="col s3">
      <span>Spatial Dimension</span>
      <p>
        <label>
          {% if spatial_dim is defined %}
          <input name="spatial_dim" type="radio" value="" />
          {% else %}
          <input name="spatial_dim" type="radio" value="" checked />
          {% endif %}
          <span>All</span>
        </label>
      </p>
      <p>
        <label>
          {% if spatial_dim == "2d" %}
          <input name="spatial_dim" type="radio" value="2d" checked />
          {% else %}
          <input name="spatial_dim" type="radio" value="2d" />
          {% endif %}
          <span>2D</span>
        </label>
      </p>
      <p>
        <label>
          {% if spatial_dim == "3d" %}
          <input name="spatial_dim" type="radio" value="3d" checked />
          {% else %}
          <input name="spatial_dim" type="radio" value="3d" />
          {% endif %}
          <span>3D</span>
        </label>
      </p>
    </div>

    <div class="col s3">
      <span>Kinetics</span>
      <p>
        <label>
          {% if kinetics is defined %}
          <input name="kinetics" type="radio" value="" />
          {% else %}
          <input name="kinetics" type="radio" value="" checked />
          {% endif %}
          <span>All</span>
        </label>
      </p>
      <p>
        <label>
          {% if kinetics == "static" %}
          <input name="kinetics" type="radio" value="static" checked />
          {% else %}
          <input name="kinetics" type="radio" value="static" />
          {% endif %}
          <span>Static</span>
        </label>
      </p>
      <p>
        <label>
          {% if kinetics == "dynamic" %}
          <input name="kinetics" type="radio" value="dynamic" checked />
          {% else %}
          <input name="kinetics" type="radio" value="dynamic" />
          {% endif %}
          <span>Dynamic</span>
        </label>
      </p>
    </div>

    <div class="col s3 offset-s3">
      <button class="btn" type="submit">Submit</button>
    </div>

  </div>

</form>

<table>

  <thead>
    <tr>
        <th></th>
        <th>Filename</th>
        <th>Kinetics</th>
        <th>Spatial Dimension</th>
        <th>Raw Channels</th>
        <th>Annotation Type</th>
        <th>Samples Contained</th>
        <th>Number of Batches</th>
        <th>Number of Annotations</th>
        <th>Dimensions</th>
    </tr>
  </thead>

  <tbody>
    {% for training_data in paginated_training_data.items %}
    <tr>
      <td><a href="/training/{{ training_data.id }}">View Details</a></td>
      <td>{{ training_data.title }}</td>
      <td>{{ training_data.kinetics }}</td>
      <td>{{ training_data.spatial_dim }}</td>
      <td>{{ training_data.raw_channel_list }}</td>
      <td>{{ training_data.annotation_type }}</td>
      <td>{{ training_data.samples_contained|length }}</td>
      <td>{{ training_data.ann_stats.num_batches }}</td>
      <td>{{ training_data.ann_stats.num_ann }}</td>
      <td>{{ training_data.ann_stats.dimensions.x, training_data.ann_stats.dimensions.y }}</td>
    </tr>
    {% endfor %}
  </tbody>

</table>

{{ render_pagination(paginated_training_data, 'training_bp.view_all_training_data') }}

{% endblock %}
